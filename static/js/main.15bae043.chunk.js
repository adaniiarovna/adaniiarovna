(this.webpackJsonpmessenger=this.webpackJsonpmessenger||[]).push([[0],{27:function(e,t,n){e.exports=n(41)},32:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a,r,s,i,c,l,o,u,m,b,h,p,d,g,f,O,j=n(0),y=n.n(j),E=n(16),w=n.n(E),v=n(8),N=n(12),x=n(14),k=n(13),S=n(15),z=(n(32),n(10)),C=n(11),I=n(6),M=(n(18),n(1)),T=(a=function e(t){Object(v.a)(this,e),Object(C.a)(this,"id",r,this),Object(C.a)(this,"name",s,this),this.id=t.id,this.name=t.name},r=Object(I.a)(a.prototype,"id",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=Object(I.a)(a.prototype,"name",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a),B=(i=function e(t){Object(v.a)(this,e),Object(C.a)(this,"id",c,this),Object(C.a)(this,"content",l,this),Object(C.a)(this,"sender",o,this),Object(C.a)(this,"time",u,this),Object(C.a)(this,"status",m,this),this.id=t.id||0,this.content=t.content,this.sender=t.sender,this.time=t.time||0},c=Object(I.a)(i.prototype,"id",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=Object(I.a)(i.prototype,"content",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=Object(I.a)(i.prototype,"sender",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=Object(I.a)(i.prototype,"time",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=Object(I.a)(i.prototype,"status",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i),J=(b=function(){function e(t){Object(v.a)(this,e),Object(C.a)(this,"user",h,this),Object(C.a)(this,"messages",p,this),this.user=t?new T(t):null}return Object(N.a)(e,[{key:"sendMessage",value:function(e){this.messages.push(new B({content:e,sender:this.user}))}},{key:"signOut",value:function(){this.user=null,localStorage.removeItem("user")}},{key:"signIn",value:function(e){this.user=new T(e),localStorage.setItem("user",JSON.stringify(this.user))}}]),e}(),h=Object(I.a)(b.prototype,"user",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=Object(I.a)(b.prototype,"messages",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(I.a)(b.prototype,"sendMessage",[M.f],Object.getOwnPropertyDescriptor(b.prototype,"sendMessage"),b.prototype),Object(I.a)(b.prototype,"signOut",[M.f],Object.getOwnPropertyDescriptor(b.prototype,"signOut"),b.prototype),Object(I.a)(b.prototype,"signIn",[M.f],Object.getOwnPropertyDescriptor(b.prototype,"signIn"),b.prototype),b),P=n(44),D=n(45),H=n(42),W=n(25),A=n(26),G=n(23),$=n.n(G),_=Object(z.b)("store")(d=Object(z.c)(d=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(x.a)(this,Object(k.a)(t).call(this,e))).store=n.props.store,n}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return this.props.data.sender.id===this.store.user.id?y.a.createElement("div",{className:"d-flex justify-content-end"},y.a.createElement(P.a,{className:"mb-4",style:{width:"20rem",backgroundColor:"rgba(0, 255, 0, 0.5)"}},y.a.createElement(P.a.Body,{className:"p-2"},y.a.createElement(P.a.Text,null,y.a.createElement("span",null,"Message content"),y.a.createElement("div",{className:"d-flex mt-1 justify-content-between"},y.a.createElement("span",{style:{fontSize:14}},"Sending..."),y.a.createElement("span",{style:{fontSize:14},className:"text-muted"},$()().calendar())))))):y.a.createElement(P.a,{className:"mb-4",style:{width:"20rem"}},y.a.createElement(P.a.Body,{className:"p-2"},y.a.createElement(P.a.Text,null,y.a.createElement("div",{className:"d-flex justify-content-between"},y.a.createElement("strong",null,"Sender name"),y.a.createElement("span",{className:"text-muted"},"11.11.2020 10:10")),y.a.createElement("div",{className:"d-flex justify-content-start"},y.a.createElement("img",{className:"avatar",src:"https://i.dlpng.com/static/png/6728146_preview.png"}),y.a.createElement("span",{className:"mt-2"},"Message content")))))}}]),t}(y.a.Component))||d)||d,q=Object(z.b)("store")(g=Object(z.c)(g=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(x.a)(this,Object(k.a)(t).call(this,e))).sendMessage=function(){n.store.sendMessage(n.state.content)},n.store=n.props.store,n.state={content:""},n}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this;return y.a.createElement("div",{style:{height:window.innerHeight},className:"d-flex justify-content-center align-items-center"},y.a.createElement(P.a,{style:{width:550,height:window.innerHeight-100,marginTop:30}},y.a.createElement(P.a.Body,null,y.a.createElement(P.a.Title,{className:"text-center d-flex justify-content-between align-items-center"},y.a.createElement("div",null,"Welcome, ",this.store.user.name,"!"),y.a.createElement(D.a,{onClick:function(){return e.store.signOut()},size:"sm",variant:"danger"},"Sign Out")),y.a.createElement("div",{className:"mb-2 messages p-3"},this.store.messages.map((function(e){return y.a.createElement(_,{data:e})}))),y.a.createElement(P.a.Text,null,y.a.createElement(H.a,{className:"mb-3"},y.a.createElement(W.a,{placeholder:"Type message here...",onChange:function(t){return e.setState({content:t.target.value})},value:this.state.content}),this.state.content.length>0&&y.a.createElement(H.a.Append,null,y.a.createElement(D.a,{onClick:this.sendMessage,variant:"outline-secondary"},y.a.createElement(A.a,null))))))))}}]),t}(y.a.Component))||g)||g,F=n(43),K=Object(z.b)("store")(f=Object(z.c)(f=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(x.a)(this,Object(k.a)(t).call(this,e))).state={name:""},n.store=n.props.store,n}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this;return y.a.createElement("div",{style:{height:window.innerHeight},className:"d-flex justify-content-center align-items-center"},y.a.createElement(P.a,{style:{width:250}},y.a.createElement(P.a.Body,null,y.a.createElement(P.a.Title,{className:"text-center"},"Please, sign in"),y.a.createElement(P.a.Text,null,y.a.createElement(F.a.Group,{controlId:"formBasicEmail"},y.a.createElement(F.a.Control,{onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name,type:"text",placeholder:"Enter your name"}))),y.a.createElement(D.a,{onClick:function(){return e.store.signIn({id:0,name:e.state.name})},disabled:this.state.name.length<1,block:!0,variant:"primary"},"Sign In"))))}}]),t}(y.a.Component))||f)||f,L=(n(40),new J(JSON.parse(localStorage.getItem("user"))||null)),Q=Object(z.c)(O=function(e){function t(){return Object(v.a)(this,t),Object(x.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return y.a.createElement(z.a,{store:L},L.user?y.a.createElement(q,null):y.a.createElement(K,null))}}]),t}(y.a.Component))||O;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));w.a.render(y.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.15bae043.chunk.js.map